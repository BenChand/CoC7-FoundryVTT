<form class="{{cssClass}} flexcol" autocomplete="off">
  <div class="container">
    <div class="portrait">
      <img src="{{item.img}}" title="{{item.name}}" data-edit="img" />
    </div>
    <div class="information">
      <div class="flexrow">
        <input class="name" name="name" type="text" value="{{item.name}}" />
      </div>
      <div class="flexrow">
        <label>{{localize "CoC7.Author"}}:</label>
        <input type="text" name="data.author" value="{{data.author}}" />
      </div>
      <div class="flexrow">
        <label>{{localize "CoC7.Date"}}:</label>
        <input type="text" name="data.date" value="{{data.date}}" />
      </div>
      <div class="flexrow">
        <label>{{localize "CoC7.language"}}:</label>
        <input type="text" name="data.language" value="{{data.language}}" />
      </div>
    </div>
    <div class="aside">
      {{#unless data.initialReading}}
        <button id="attempt-initial-reading">
          <label>
            {{localize "CoC7.InitialReading"}}
          </label>
        </button>
      {{/unless}}
    </div>
    <div class="progress">
      <i id="decrease-progress" class="fas fa-minus"></i>
      <progress
        id="progress"
        name="data.study.progress"
        value="{{data.study.progress}}"
        max="{{data.study.necessary}}"
        data-label="{{localize
          "CoC7.Progress"
        }}: {{data.study.progress}} / {{data.study.necessary}} {{localize
          "CoC7.weeks"
        }}"
      ></progress>
      <i id="increase-progress" class="fas fa-plus increase-progress"></i>
    </div>
    <nav class="navigation tabs" data-group="primary">
      <a
        data-tab="description"
        title="{{localize "CoC7.Book.Tabs.Description"}}"
      >
        <div class="tab-name">
          <span>
            {{localize "CoC7.Description"}}
          </span>
        </div>
      </a>
      {{#or isKeeper data.data.initialReading}}
        <a data-tab="content" title="{{localize "CoC7.Book.Tabs.Content"}}">
          <div class="tab-name">
            <span>
              {{localize "CoC7.Content"}}
            </span>
          </div>
        </a>
      {{/or}}
      {{#if isKeeper}}
        <a data-tab="details" title="{{localize "CoC7.Book.Tabs.Details"}}">
          <div class="tab-name">
            <span>
              {{localize "CoC7.Details"}}
            </span>
          </div>
        </a>
      {{/if}}
      {{#or data.type.mythos data.type.occult}}
        {{#or isKeeper data.data.initialReading}}
          <a data-tab="spells" title="{{localize "CoC7.Book.Tabs.Spells"}}">
            <div class="tab-name">
              <span>
                {{localize "CoC7.Spells"}}
              </span>
            </div>
          </a>
        {{/or}}
      {{/or}}
      {{#if isKeeper}}
        <a data-tab="notes" title="{{localize "CoC7.Book.Tabs.Notes"}}">
          <div class="tab-name">
            <span>
              {{localize "CoC7.Notes"}}
            </span>
          </div>
        </a>
      {{/if}}
    </nav>
    <section class="body">
      <div class="tab" data-group="primary" data-tab="description">
        {{editor
          content=data.description
          target="data.description"
          button=true
          owner=owner
          editable=editable
        }}
      </div>
      <div class="tab" data-group="primary" data-tab="content">
        {{editor
          content=data.content
          target="data.content"
          button=true
          owner=owner
          editable=editable
        }}
      </div>
      <div class="tab" data-group="primary" data-tab="details">
        {{> "systems/CoC7/templates/items/book/details.hbs"}}
      </div>
      <div class="tab" data-group="primary" data-tab="spells">
        <div class="spells">
          <i id="add-spell" class="fas fa-plus"></i>
          <ul>
            {{#each data.spells as |spell key|}}
              <li class="spell">
                <div class="portrait">
                  <img src="{{spell.img}}" />
                </div>
                <div class="name">
                  <label>
                    {{spell.name}}
                  </label>
                </div>
                <div class="edit">
                </div>
                <div class="status">
                </div>
              </li>
            {{/each}}
          </ul>
        </div>
      </div>
      <div class="tab" data-group="primary" data-tab="notes">
        {{editor
          content=data.notes
          target="data.notes"
          button=true
          owner=owner
          editable=editable
        }}
      </div>
    </section>
  </div>
</form>
